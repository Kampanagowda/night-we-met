<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Night We Met</title>

<style>
    body {
        margin: 0;
        height: 100vh;
        background: radial-gradient(circle at top, #111 0%, #000 70%);
        font-family: Georgia, serif;
        color: #f5f5f5;
        overflow: hidden;
    }

    .stars {
        position: fixed;
        inset: 0;
        background-image: radial-gradient(#555 1px, transparent 1px);
        background-size: 3px 3px;
        opacity: 0.35;
        animation: twinkle 6s infinite alternate;
        pointer-events: none;
    }

    @keyframes twinkle {
        from { opacity: 0.2; }
        to { opacity: 0.5; }
    }

    .container {
        position: relative;
        z-index: 2;
        max-width: 720px;
        margin: auto;
        top: 50%;
        transform: translateY(-50%);
        text-align: center;
        padding: 20px;
    }

    .text {
        font-size: 1.35rem;
        line-height: 1.9;
        white-space: pre-line;
        opacity: 0;
        transition: opacity 1s ease;
    }

    .text.show {
        opacity: 1;
    }

    button {
        margin-top: 35px;
        padding: 12px 30px;
        background: transparent;
        color: #ff4d6d;
        border: 2px solid #ff4d6d;
        border-radius: 30px;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    button:hover {
        background: #ff4d6d;
        color: #000;
        box-shadow: 0 0 20px #ff4d6d;
    }

    .rose {
        position: absolute;
        bottom: -60px;
        font-size: 2rem;
        animation: floatUp linear infinite;
        opacity: 0.8;
        pointer-events: none;
    }

    @keyframes floatUp {
        from {
            transform: translateY(0) rotate(0deg);
            opacity: 0;
        }
        to {
            transform: translateY(-120vh) rotate(360deg);
            opacity: 1;
        }
    }
</style>
</head>

<body>

<div class="stars"></div>

<div class="container">
    <div id="scene" class="text show">
It was 1:00 AM.  
A quiet bus stand.  
So dark‚Ä¶ so still‚Ä¶  
like the world was holding its breath.
    </div>

    <button id="nextBtn">Next</button>
</div>

<audio src="bgMusic.mp3" controls>	
<p>Fallback content goes here.</p>
</audio>

<script>
const scenes = [
"You were wearing a black jacket and black jeans.\nCalm. Quiet. Fearless.",
"And then there he was‚Ä¶\nStanding near the bus stand.\nHands folded.",
"A black racer bike beside him.\nThat quiet confidence.",
"The night stayed silent.\nBut somehow‚Ä¶ everything felt loud.",
"He stepped closer and said:\n\"Hey, I brought you something.\"",
"Three red roses. üåπüåπüåπ",
"At 1 AM.\nIn the dark.\nAt a bus stand.",
"The night didn‚Äôt know it was special.",
"But we did.",
"That was the beginning.\nA memory that still feels warm."
];

let index = 0;
let musicStarted = false;

const scene = document.getElementById("scene");
const button = document.getElementById("nextBtn");
const music = document.getElementById("bgMusic");

button.addEventListener("click", () => {

    // Start music ONLY once, after user interaction
    if (!musicStarted) {
        music.volume = 0.4;
        const playPromise = music.play();

        if (playPromise !== undefined) {
            playPromise.catch(err => {
                console.log("Audio blocked:", err);
            });
        }

        musicStarted = true;
    }

    index++;

    if (index < scenes.length) {
        scene.classList.remove("show");
        setTimeout(() => {
            scene.innerText = scenes[index];
            scene.classList.add("show");
        }, 300);
    } else {
        button.style.display = "none";
        scene.innerText =
"And if fate asks me again‚Ä¶\nI‚Äôd still meet you.\nSame night. Same darkness. Same roses. ‚ù§Ô∏è";
        scene.classList.add("show");
        releaseRoses();
    }
});

function releaseRoses() {
    for (let i = 0; i < 20; i++) {
        const rose = document.createElement("div");
        rose.className = "rose";
        rose.innerText = "üåπ";
        rose.style.left = Math.random() * 100 + "vw";
        rose.style.animationDuration = (4 + Math.random() * 4) + "s";
        document.body.appendChild(rose);
    }
}
</script>

</body>
</html>
