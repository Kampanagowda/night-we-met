<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Night We Met</title>
<style>
    body {
        margin: 0;
        height: 100vh;
        background: radial-gradient(circle at top, #111 0%, #000 70%);
        font-family: 'Georgia', serif;
        color: #f5f5f5;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .stars {
        position: fixed;
        inset: 0;
        background-image: radial-gradient(#555 1px, transparent 1px);
        background-size: 3px 3px;
        opacity: 0.35;
        animation: twinkle 6s infinite alternate;
        pointer-events: none;
        z-index: 1;
    }

    @keyframes twinkle {
        from { opacity: 0.2; }
        to { opacity: 0.5; }
    }

    .container {
        position: relative;
        z-index: 10;
        max-width: 720px;
        width: 90%;
        text-align: center;
        padding: 20px;
    }

    .text {
        font-size: 1.35rem;
        line-height: 1.9;
        white-space: pre-line;
        min-height: 150px; /* Prevents layout jump */
        opacity: 0;
        transition: opacity 0.8s ease-in-out;
    }

    .text.show {
        opacity: 1;
    }

    button {
        margin-top: 35px;
        padding: 12px 30px;
        background: transparent;
        color: #ff4d6d;
        border: 2px solid #ff4d6d;
        border-radius: 30px;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        display: none; /* Hidden until overlay is clicked */
    }

    button:hover {
        background: #ff4d6d;
        color: #000;
        box-shadow: 0 0 20px #ff4d6d;
    }

    .rose {
        position: absolute;
        bottom: -60px;
        font-size: 2rem;
        animation: floatUp linear infinite;
        opacity: 0.8;
        pointer-events: none;
        z-index: 5;
    }

    @keyframes floatUp {
        from { transform: translateY(0) rotate(0deg); opacity: 0; }
        to { transform: translateY(-120vh) rotate(360deg); opacity: 1; }
    }

    #overlay {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.95);
        color: #ff4d6d;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        z-index: 9999;
        font-size: 1.5rem;
        cursor: pointer;
        text-align: center;
    }
    #overlay h1 { margin-bottom: 20px; font-size: 1.8rem; }
    #overlay p { font-size: 1rem; color: #ccc; }
</style>
</head>
<body>

<div class="stars"></div>

<div class="container">
    <div id="scene" class="text"></div>
    <button id="nextBtn">Next</button>
</div>

<audio id="bgMusic" loop preload="auto">
    <source src="bgMusic.mp3" type="audio/mpeg">
</audio>

<div id="overlay">
    <h1>Click anywhere to start the night‚Ä¶</h1>
    <p>Music will play automatically</p>
</div>

<script>
const scenes = [
    "You were wearing a black jacket and black jeans.\nCalm. Quiet. Fearless.",
    "And then there he was‚Ä¶\nStanding near the bus stand.\nHands folded.",
    "A black racer bike beside him.\nThat quiet confidence.",
    "The night stayed silent.\nBut somehow‚Ä¶ everything felt loud.",
    "He stepped closer and said:\n\"Hey, I brought you something.\"",
    "Three red roses. üåπüåπüåπ",
    "At 1 AM.\nIn the dark.\nAt a bus stand.",
    "The night didn‚Äôt know it was special.",
    "But we did.",
    "That was the beginning.\nA memory that still feels warm."
];

let index = 0;
const sceneElement = document.getElementById("scene");
const button = document.getElementById("nextBtn");
const music = document.getElementById("bgMusic");
const overlay = document.getElementById("overlay");

// Function to update text with a fade effect
function updateScene() {
    sceneElement.classList.remove("show");
    
    setTimeout(() => {
        sceneElement.innerText = scenes[index];
        sceneElement.classList.add("show");
    }, 400); // Wait for fade out before changing text
}

// Start Interaction
overlay.addEventListener("click", () => {
    overlay.style.display = "none";
    button.style.display = "inline-block"; // Show button now

    // Play music
    music.volume = 0.4;
    music.play().catch(err => console.log("Music issue:", err));

    // Show the first scene immediately
    sceneElement.innerText = scenes[index];
    sceneElement.classList.add("show");
});

// Next Button logic
button.addEventListener("click", () => {
    index++;
    if (index < scenes.length) {
        updateScene();
    } else {
        button.style.display = "none";
        sceneElement.classList.remove("show");
        
        setTimeout(() => {
            sceneElement.innerText = "And if fate asks me again‚Ä¶\nI‚Äôd still meet you.\nSame night. Same darkness. Same roses. ‚ù§Ô∏è";
            sceneElement.classList.add("show");
            releaseRoses();
        }, 400);
    }
});

function releaseRoses() {
    for (let i = 0; i < 20; i++) {
        const rose = document.createElement("div");
        rose.className = "rose";
        rose.innerText = "üåπ";
        rose.style.left = Math.random() * 100 + "vw";
        rose.style.animationDuration = (4 + Math.random() * 4) + "s";
        rose.style.delay = Math.random() * 2 + "s";
        document.body.appendChild(rose);
    }
}
</script>
</body>
</html>
